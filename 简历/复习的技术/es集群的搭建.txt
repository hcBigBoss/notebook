1.安装 Elasticsearch
我们来安装 Elasticsearch，同样是每台主机都需要安装(这里我一共拥有七台 Linux, 主机系统是 Ubuntu 16.04，都连接在一个内网中)。
2.首先需要添加 Apt-Key
3.然后添加 Elasticsearch 的 Repository 定义,运行完毕之后我们就完成了 Elasticsearch 的安装，注意还是要每台主机都要安装。
4.配置 Elasticsearch
这时我们只是每台主机都安装好了 Elasticsearch，接下来我们还需要将它们联系在一起构成一个集群。
安装完之后，Elasticsearch 的配置文件是 /etc/elasticsearch/elasticsearch.yml，接下来编辑一下配置文件：
a.集群的名称 通过 cluster.name 可以配置集群的名称，集群是一个整体，因此名称都要一致，所有主机都配置成相同的名称

b.节点的名称 通过 node.name 可以配置每个节点的名称，每个节点都是集群的一部分，每个节点名称都不要相同，可以按照顺序编号

c.是否有资格成为主节点通过 node.master 可以配置该节点是否有资格成为主节点，如果配置为 true，则主机有资格成为主节点，
配置为 false 则主机就不会成为主节点，可以去当数据节点或负载均衡节点。注意这里是有资格成为主节点，不是一定会成为主节点，
主节点需要集群经过选举产生。这里我配置所有主机都可以成为主节点，因此都配置为 true

d.是否是数据节点通过 node.data 可以配置该节点是否为数据节点，如果配置为 true，则主机就会作为数据节点，注意主节点也可以作为数据节点，
当 node.master 和 node.data 均为 false，则该主机会作为负载均衡节点。这里我配置所有主机都是数据节点，因此都配置为 true

e.数据和日志路径通过:      path.data 和 path.logs 可以配置 Elasticsearch 的数据存储路径和日志存储路径，可以指定任意位置，这里我指定存储到 1T 硬盘对应的路径下，另外注意一下写入权限问题

f.设置访问的地址和端口:  我们需要设定 Elasticsearch 运行绑定的 Host，默认是无法公开访问的，如果设置为主机的公网 IP 或 0.0.0.0 就是可以公开访问的，这里我们可以都设置为公开访问或者部分主机公开访问，
如果是公开访问就配置为如果不想被公开访问就不用配置。另外还可以配置访问的端口，默认是 9200

g.集群地址设置:通过 discovery.zen.ping.unicast.hosts 可以配置集群的主机地址，配置之后集群的主机之间可以自动发现.

h.为了防止集群发生“脑裂”，即一个集群分裂成多个，通常需要配置集群最少主节点数目，通常为 (可成为主节点的主机数目 / 2) + 1，例如我这边可以成为主节点的主机数目为 7，那么结果就是 4.

l.启动 Elasticsearch,安装可视化工具Kibana可以对集群进行监控

参考链接:https://cloud.tencent.com/developer/article/1189282
